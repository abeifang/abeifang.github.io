<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>重庆</title>
      <link href="/2024/05/09/%E9%87%8D%E5%BA%86/"/>
      <url>/2024/05/09/%E9%87%8D%E5%BA%86/</url>
      
        <content type="html"><![CDATA[<h1 id="重庆"><a href="#重庆" class="headerlink" title="重庆"></a>重庆</h1><p>测试一下图片</p><p><img src="https://abei-1256557411.cos.ap-chengdu.myqcloud.com/202405091720795.png" alt="image-20240509172026738"></p>]]></content>
      
      
      <categories>
          
          <category> 出游记录 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 出游记录 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>活着-余华</title>
      <link href="/2024/05/09/%E6%B4%BB%E7%9D%80-%E4%BD%99%E5%8D%8E/"/>
      <url>/2024/05/09/%E6%B4%BB%E7%9D%80-%E4%BD%99%E5%8D%8E/</url>
      
        <content type="html"><![CDATA[<h1 id="活着-余华"><a href="#活着-余华" class="headerlink" title="活着 - 余华"></a>活着 - 余华</h1>]]></content>
      
      
      <categories>
          
          <category> 阅读分享 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 阅读分享 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>用户中心</title>
      <link href="/2024/05/08/%E7%94%A8%E6%88%B7%E4%B8%AD%E5%BF%83/"/>
      <url>/2024/05/08/%E7%94%A8%E6%88%B7%E4%B8%AD%E5%BF%83/</url>
      
        <content type="html"><![CDATA[<h1 id="用户中心"><a href="#用户中心" class="headerlink" title="用户中心"></a>用户中心</h1><h2 id="好用的工具收集"><a href="#好用的工具收集" class="headerlink" title="好用的工具收集"></a>好用的工具收集</h2><blockquote><!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --><dependency> <groupId>org.apache.commons</groupId> <artifactId>commons-lang3</artifactId> <version>3.14.0</version></dependency><p>用于</p></blockquote><h2 id="编程技巧收集"><a href="#编程技巧收集" class="headerlink" title="编程技巧收集"></a>编程技巧收集</h2><h3 id="是否存在性能浪费"><a href="#是否存在性能浪费" class="headerlink" title="是否存在性能浪费"></a>是否存在性能浪费</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">userServiceImpl</span> <span class="keyword">extends</span> <span class="title class_">ServiceImpl</span>&lt;userMapper, User&gt;</span><br><span class="line">    <span class="keyword">implements</span> <span class="title class_">userService</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">long</span> <span class="title function_">userRegister</span><span class="params">(String userAccount, String userPassword, String checkPassword)</span> &#123;</span><br><span class="line">        <span class="comment">//校验</span></span><br><span class="line">        <span class="keyword">if</span> (StringUtils.isAnyBlank(userAccount,userPassword,checkPassword)) &#123;</span><br><span class="line">           <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">           <span class="comment">//todo</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (userAccount.length() &lt; <span class="number">4</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">            <span class="comment">//todo</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(userPassword.length() &lt; <span class="number">8</span> || checkPassword.length() &lt; <span class="number">8</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">            <span class="comment">//todo</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//账户不能重复</span></span><br><span class="line">        QueryWrapper&lt;User&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;();</span><br><span class="line">        queryWrapper.eq(<span class="string">&quot;userAccount&quot;</span>,userAccount);</span><br><span class="line">        <span class="type">long</span> <span class="variable">count</span> <span class="operator">=</span> <span class="built_in">this</span>.count(queryWrapper);</span><br><span class="line">        <span class="keyword">if</span>(count &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">            <span class="comment">//todo</span></span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//账户不能包含特殊字符</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">validPattern</span> <span class="operator">=</span> <span class="string">&quot;\\pP|\\pS|\\s+&quot;</span>; <span class="comment">//正则表达式</span></span><br><span class="line">        <span class="type">Matcher</span> <span class="variable">matcher</span> <span class="operator">=</span> Pattern.compile(validPattern).matcher(userAccount); <span class="comment">//todo S 正则表达式</span></span><br><span class="line">        <span class="keyword">if</span>(!matcher.find()) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>; <span class="comment">//todo</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//密码和校验密码相同</span></span><br><span class="line">        <span class="keyword">if</span>(!userPassword.equals(checkPassword)) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>; <span class="comment">//todo</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>[!TIP]</p><p>在验证账户中是否存在特殊字符之前，进行了数据库查询，如果账户中有特殊字符，本就拒绝注册，就不需要进行数据库查询。所以将查表放在最后，节省性能。</p></blockquote><h2 id="需求分析"><a href="#需求分析" class="headerlink" title="需求分析"></a>需求分析</h2><blockquote><ol><li>登录 &#x2F; 注册</li><li>用户管理（仅管理员可见）对用户的查询或修改</li><li>用户校验（仅星球用户）</li></ol></blockquote><h2 id="技术选型"><a href="#技术选型" class="headerlink" title="技术选型"></a>技术选型</h2><blockquote><p>前端：三件套 + React + 组件库 Ant Design + Umi（框架） + Ant Design Pro（现成的管理系统）</p><p>后端：</p><ul><li>Java </li><li>Spring（依赖注入框架、帮助你管理java对象，集成一些其他的内容）</li><li>SpringMVC（web框架，提供接口访问，restful接口等能力）</li><li>mybatis + mybatis-plus（对mybatis增强，不用写SQL也能增删改查） </li><li>springboot（&#x3D;&#x3D;快速启动&#x3D;&#x3D; 不用自己管理 Spring 配置，不用自己管理 spring 配置，不用自己整合各种框架）</li><li>mysql</li></ul><p>部署：服务器 &#x2F; 容器（平台）</p></blockquote><h2 id="计划"><a href="#计划" class="headerlink" title="计划"></a>计划</h2><blockquote><p>初始化项目</p><blockquote><p>前端初始化</p><ul><li>初始化项目</li><li>引入组件</li><li>项目瘦身 &#x2F; 介绍</li></ul><p>后端初始化</p><ul><li>准备环境（MySQL之类的）</li><li>引入框架（整合框架）</li></ul></blockquote><p>登录注册</p><ul><li>前端</li><li>后端</li></ul><p>用户管理（仅管理员可见）</p><ul><li>前端</li><li>后端</li></ul></blockquote><h2 id="数据库设计"><a href="#数据库设计" class="headerlink" title="数据库设计"></a>数据库设计</h2><blockquote><p>什么是数据库？ 存数据的</p><p>数据库里有什么？ 数据表 （理解为excel表格）</p></blockquote><p>有哪些表？表中有哪些字段？字段的类型？数据库字段添加索引？</p><p>表与表之间的关联</p><h3 id="用户表"><a href="#用户表" class="headerlink" title="用户表"></a>用户表</h3><ul><li>id（主键） bigint</li><li>account 账号</li><li>username 昵称 varchar</li><li>avatarUrl 头像 varchar</li><li>gender 性别 tinyint</li><li>password 密码 varchar</li><li>phone 电话 varchar</li><li>email 邮箱 varchar</li><li>isValid 是否有效 tinyint 0 1</li><li>createTime 创建时间 Datetime</li><li>updateTime 更新时间 Datetime</li><li>isDelete 是否删除 tinyint</li></ul><h2 id="自动生成器的使用"><a href="#自动生成器的使用" class="headerlink" title="自动生成器的使用"></a>自动生成器的使用</h2><blockquote><p>MybatisX 插件，自动根据数据库生成 domain 实体对象、mapper（操作数据库的对象）、mapper.xml （定义了 mapper 对象和数据库的关联，可以在里面自己写SQL）、service（包含常用的增删改查）、servicelmpl（具体实现service）</p><blockquote><p>[!NOTE]</p><p>使用Mybatis Plus 时，将数据同步到数据库会默认转为下划线格式。若不需要使用此功能，需要在application.yml中修改属性。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mybatis-plus:</span><br><span class="line">configuration:</span><br><span class="line">map-underscore-to-camel-case: false</span><br></pre></td></tr></table></figure></blockquote></blockquote><h2 id="注册逻辑"><a href="#注册逻辑" class="headerlink" title="注册逻辑"></a>注册逻辑</h2><ol><li>用户在前端输入账户和密码、以及校验码（todo）</li><li>校验用户的账户、密码是否符合要求<ul><li>账户不小于4位</li><li>密码不小于8位</li><li>账户不能重复</li><li>账户不包含特殊字符</li><li>密码和校验密码相同</li></ul></li><li>对密码进行加密（密码千万不要直接以明文存储到数据库中）</li><li>向数据库插入用户数据</li></ol><h2 id="登录接口"><a href="#登录接口" class="headerlink" title="登录接口"></a>登录接口</h2><p>接收参数：用户账户、密码</p><p>请求类型：POST（&#x3D;&#x3D;请求参数很长时，不建议使用GET&#x3D;&#x3D;）</p><p>请求体：JSON 格式的数据</p><p>返回值：用户信息（脱敏）</p><h3 id="逻辑"><a href="#逻辑" class="headerlink" title="逻辑"></a>逻辑</h3><ol><li>校验用户账户和密码是否合法<ul><li>非空</li><li>账户长度不小于 4 位</li><li>密码不小于 8 位</li><li>账户不包含特殊字符</li></ul></li><li>校验密码是否输入正确，要和数据库中的密文密码对比</li><li>我们要记录用户的登录态（session），将其存到服务器上（用后端Springboot 框架封装的服务器 tomcat 去记录）</li><li>返回用户信息（脱敏）</li></ol>]]></content>
      
      
      <categories>
          
          <category> 个人项目 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>马赛克项目部署文档</title>
      <link href="/2024/05/08/%E9%A9%AC%E8%B5%9B%E5%85%8B%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/"/>
      <url>/2024/05/08/%E9%A9%AC%E8%B5%9B%E5%85%8B%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/</url>
      
        <content type="html"><![CDATA[<blockquote><p>基于 Flask 框架搭建</p></blockquote><h2 id="视频人脸马赛克——部署文档"><a href="#视频人脸马赛克——部署文档" class="headerlink" title="视频人脸马赛克——部署文档"></a>视频人脸马赛克——部署文档</h2><h3 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h3><ul><li><p>Pyhton3.9.5</p><blockquote><p>安装</p><ul><li><p>安装gcc</p><p>  yum install gcc -y</p></li><li><p>安装Python依赖</p><p>  yum install zlib zlib-devel -y<br>  yum install bzip2 bzip2-devel  -y<br>  yum install ncurses ncurses-devel  -y<br>  yum install readline readline-devel  -y<br>  yum install openssl openssl-devel  -y<br>  yum install xz lzma xz-devel  -y<br>  yum install sqlite sqlite-devel  -y<br>  yum install gdbm gdbm-devel  -y<br>  yum install tk tk-devel  -y<br>  yum install mysql-devel -y<br>  yum install python-devel -y<br>  yum install libffi-devel -y</p></li><li><p>下载源码 Python3.9.5<br>  yum install wget -y<br>  wget <a href="https://www.python.org/ftp/python/3.9.5/Python-3.9.5.tgz">https://www.python.org/ftp/python/3.9.5/Python-3.9.5.tgz</a></p></li><li><p>解压 &amp; 编译 &amp; 安装</p><p>  tar -xvf Python-3.9.5.tgzcd Python-3.9.5<br>  .&#x2F;configure<br>  make all<br>  make install</p></li></ul></blockquote></li><li><p>虚拟环境（使用virtualenv）</p><ul><li><p>安装virtualenv</p><ul><li>pip3.9 install virtualenv</li></ul></li><li><p>创建虚拟环境</p><ul><li><p>mkdir envs<br>  virtualenv envs&#x2F;mosaic –python&#x3D;python3.9</p><p>  &#x3D;&#x3D;virtualenv envs&#x2F;eye_system_python –python&#x3D;$(pyenv which python3.6)&#x3D;&#x3D;</p></li></ul></li><li><p>激活虚拟环境</p><ul><li>source envs&#x2F;nb&#x2F;bin&#x2F;activate</li></ul></li><li><p>进入项目所在文件夹，安装 requirement.txt 中的相关依赖</p><ul><li>pip install -r requirement.txt</li></ul></li></ul></li></ul><blockquote><p>[!NOTE]</p><p>此项目需要使用&#x3D;&#x3D;ffmpeg&#x3D;&#x3D;</p></blockquote><h3 id="ffmpeg安装"><a href="#ffmpeg安装" class="headerlink" title="ffmpeg安装"></a>ffmpeg安装</h3><ul><li>安装yasm</li></ul><blockquote><p># wget <a href="http://www.tortall.net/projects/yasm/releases/yasm-1.3.0.tar.gz">http://www.tortall.net/projects/yasm/releases/yasm-1.3.0.tar.gz</a></p><p># tar -xvf yasm-1.3.0.tar.gz</p><p># cd yasm-1.3.0</p><p>编译安装yasm，安装ffmpeg必须要安装的</p><p># .&#x2F;configure &amp;&amp; make &amp;&amp; make install</p></blockquote><ul><li>安装x264</li></ul><blockquote><p>安装nasm</p><p># wget <a href="http://www.nasm.us/pub/nasm/releasebuilds/2.13.03/nasm-2.13.03.tar.xz">http://www.nasm.us/pub/nasm/releasebuilds/2.13.03/nasm-2.13.03.tar.xz</a> –no-check-certificate</p><p># tar xvJf nasm-2.13.03.tar.xz</p><p># cd nasm-2.13.03</p><p># .&#x2F;configure &amp;&amp; make &amp;&amp; make install</p><p>安装x264</p><p># yum -y install git</p><p># git clone <a href="https://code.videolan.org/videolan/x264.git">https://code.videolan.org/videolan/x264.git</a>　　　　#下载x264安装</p><p># cd x264</p><p># .&#x2F;configure –prefix&#x3D;&#x2F;usr&#x2F;local&#x2F;x264 –enable-shared –enable-static</p><p># make &amp;&amp; make install</p><p>添加环境变量</p><p># vim &#x2F;etc&#x2F;profile</p><p>export PKG_CONFIG_PATH&#x3D;&#x2F;usr&#x2F;local&#x2F;x264&#x2F;lib&#x2F;pkgconfig</p><p># source &#x2F;etc&#x2F;profile     激活</p></blockquote><ul><li>安装ffmpeg</li></ul><blockquote><p># wget <a href="http://ffmpeg.org/releases/ffmpeg-5.1.3.tar.gz">http://ffmpeg.org/releases/ffmpeg-5.1.3.tar.gz</a></p><p># tar -xvf ffmpeg-5.1.3.tar.gz</p><p># cd ffmpeg-5.1.3</p><p># .&#x2F;configure –prefix&#x3D;&#x2F;usr&#x2F;local&#x2F;ffmpeg5.1.3 –enable-gpl –enable-libx264 –extra-cflags&#x3D;”-I&#x2F;usr&#x2F;local&#x2F;x264&#x2F;include” –extra-ldflags&#x3D;”-L&#x2F;usr&#x2F;local&#x2F;x264&#x2F;lib”</p><p># make &amp;&amp; make install</p><p>&#x3D;&#x3D;添加环境变量&#x3D;&#x3D;</p><p># vim &#x2F;etc&#x2F;profile</p><p>export PATH&#x3D;$PATH:&#x2F;usr&#x2F;local&#x2F;ffmpeg&#x2F;bin</p><p># source &#x2F;etc&#x2F;profile     激活</p><p># vim &#x2F;etc&#x2F;ld.so.conf  #文件最后添加以下内容</p><p>&#x2F;usr&#x2F;local&#x2F;x264&#x2F;lib</p><p># ldconfig</p><p># &#x2F;usr&#x2F;local&#x2F;ffmpeg5.1.3&#x2F;bin&#x2F;ffmpeg -v　　　　#安装成功，查看环境变</p></blockquote><h3 id="运行及停止命令"><a href="#运行及停止命令" class="headerlink" title="运行及停止命令"></a>运行及停止命令</h3><p>使用nohup使得程序后台常驻（先进入项目文件夹）</p><ul><li>&#x3D;&#x3D;nohup python app.py &amp;&#x3D;&#x3D;</li></ul><p>停止命令，使用kill杀死进程</p><ul><li>&#x3D;&#x3D;ps aux | grep python app.py&#x3D;&#x3D; （查找进程）</li><li>&#x3D;&#x3D;kill PID&#x3D;&#x3D; (杀死进程)</li></ul><h3 id="代码说明"><a href="#代码说明" class="headerlink" title="代码说明"></a>代码说明</h3><ul><li>正常情况下命名为收到请求传递的名称，若在video中此名称已存在，则在此名称后加了五位随机字母为新名字。</li></ul>]]></content>
      
      
      <categories>
          
          <category> 部署文档 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> — 经验 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>部署上线踩坑</title>
      <link href="/2024/05/08/%E9%83%A8%E7%BD%B2%E4%B8%8A%E7%BA%BF%E8%B8%A9%E5%9D%91/"/>
      <url>/2024/05/08/%E9%83%A8%E7%BD%B2%E4%B8%8A%E7%BA%BF%E8%B8%A9%E5%9D%91/</url>
      
        <content type="html"><![CDATA[<h1 id="部署上线踩坑"><a href="#部署上线踩坑" class="headerlink" title="部署上线踩坑"></a>部署上线踩坑</h1><h2 id="文件如何上传服务器"><a href="#文件如何上传服务器" class="headerlink" title="文件如何上传服务器"></a>文件如何上传服务器</h2><p>通过git工具传到gitee，然后通过clone到服务器上</p><p>修改代码在本地修改之后在提交到gitee上，在服务器上通过git pull 拉取</p><h2 id="如果项目中使用了ffprobe视频处理工具"><a href="#如果项目中使用了ffprobe视频处理工具" class="headerlink" title="如果项目中使用了ffprobe视频处理工具"></a>如果项目中使用了ffprobe视频处理工具</h2><p>需要将ffmpeg安装到服务器中，并且配置环境变量</p><p>见：<a href="https://blog.csdn.net/weixin_44692055/article/details/128848638">CentOS环境安装ffmpeg</a></p><h2 id="报错-libGL-so-1-cannot-open-shared-object-file-No-such-file-or-directory"><a href="#报错-libGL-so-1-cannot-open-shared-object-file-No-such-file-or-directory" class="headerlink" title="报错 libGL.so.1: cannot open shared object file: No such file or directory"></a>报错 libGL.so.1: cannot open shared object file: No such file or directory</h2><p>在虚拟环境中，卸载opencv-python</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pip uninstall opencv-python</span><br><span class="line">安装 opencv-python-headless</span><br><span class="line">pip install opencv-python-headless</span><br></pre></td></tr></table></figure><h2 id="清华源"><a href="#清华源" class="headerlink" title="清华源"></a>清华源</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-i https://pypi.tuna.tsinghua.edu.cn/simple</span><br></pre></td></tr></table></figure><h2 id="yum源无法使用"><a href="#yum源无法使用" class="headerlink" title="yum源无法使用"></a>yum源无法使用</h2><p>参考文章：[<a href="https://www.cnblogs.com/Leehy0518/p/17317425.html">解决CentOS7的yum源无法正常使用</a>]</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">报错信息如下</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line">base                                                        | 3.6 kB  00:00:00     </span><br><span class="line">http://mirrors.cloud.aliyuncs.com/epel/7/x86_64/repodata/repomd.xml: [Errno 14] curl#6 - &quot;Could not resolve host: mirrors.cloud.aliyuncs.com; Unknown error&quot;</span><br><span class="line">Trying other mirror.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> One of the configured repositories failed (Extra Packages for Enterprise Linux 7 - x86_64),</span><br><span class="line"> and yum doesn&#x27;t have enough cached data to continue. At this point the only</span><br><span class="line"> safe thing yum can do is fail. There are a few ways to work &quot;fix&quot; this:</span><br><span class="line"></span><br><span class="line">     1. Contact the upstream for the repository and get them to fix the problem.</span><br><span class="line"></span><br><span class="line">     2. Reconfigure the baseurl/etc. for the repository, to point to a working</span><br><span class="line">        upstream. This is most often useful if you are using a newer</span><br><span class="line">        distribution release than is supported by the repository (and the</span><br><span class="line">        packages for the previous distribution release still work).</span><br><span class="line"></span><br><span class="line">     3. Run the command with the repository temporarily disabled</span><br><span class="line">            yum --disablerepo=epel ...</span><br><span class="line"></span><br><span class="line">     4. Disable the repository permanently, so yum won&#x27;t use it by default. Yum</span><br><span class="line">        will then just ignore the repository until you permanently enable it</span><br><span class="line">        again or use --enablerepo for temporary usage:</span><br><span class="line"></span><br><span class="line">            yum-config-manager --disable epel</span><br><span class="line">        or</span><br><span class="line">            subscription-manager repos --disable=epel</span><br><span class="line"></span><br><span class="line">     5. Configure the failing repository to be skipped, if it is unavailable.</span><br><span class="line">        Note that yum will try to contact the repo. when it runs most commands,</span><br><span class="line">        so will have to try and fail each time (and thus. yum will be be much</span><br><span class="line">        slower). If it is a very temporary problem though, this is often a nice</span><br><span class="line">        compromise:</span><br><span class="line"></span><br><span class="line">            yum-config-manager --save --setopt=epel.skip_if_unavailable=true</span><br><span class="line"></span><br><span class="line">failure: repodata/repomd.xml from epel: [Errno 256] No more mirrors to try.</span><br><span class="line">http://mirrors.cloud.aliyuncs.com/epel/7/x86_64/repodata/repomd.xml: [Errno 14] curl#6 - &quot;Could not resolve host: mirrors.cloud.aliyuncs.com; Unknown error&quot;</span><br></pre></td></tr></table></figure><p>解决方法：修改vi &#x2F;etc&#x2F;sysconfig&#x2F;network-scripts&#x2F;ifcfg-ens32 这个配置文件。此时我报错的原因是里面没有内容了</p><ul><li><p>添加基本内容</p></li><li><pre><code>  DEVICE=ens32  BOOTPROTO=dhcp  ONBOOT=yes  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">再依次执行以下代码：</span><br><span class="line"></span><br><span class="line">```undefined</span><br><span class="line">重启网路</span><br><span class="line">systemctl restart NetworkManager.service</span><br><span class="line">清理yum缓存</span><br><span class="line">yum clean all</span><br><span class="line">更新缓存</span><br><span class="line">yum makecache</span><br></pre></td></tr></table></figure></code></pre></li></ul><h2 id="部署成功后外网无法访问"><a href="#部署成功后外网无法访问" class="headerlink" title="部署成功后外网无法访问"></a>部署成功后外网无法访问</h2><blockquote><p>部署成功后只是</p></blockquote><h2 id="docker安装mysql无限重启"><a href="#docker安装mysql无限重启" class="headerlink" title="docker安装mysql无限重启"></a>docker安装mysql无限重启</h2><blockquote><p>缓冲池设置小一些。在my.cnf里面配置</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">innodb_buffer_pool_size=512M</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 部署踩坑 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 踩坑 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
